<!-- -*- Mode: html; coding: utf-8; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-
# ***** BEGIN LICENSE BLOCK *****
# Version: MPL 1.1/GPL 2.0/LGPL 2.1
#
# The contents of this file are subject to the Mozilla Public License Version
# 1.1 (the "License"); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
# http://www.mozilla.org/MPL/
#
# Software distributed under the License is distributed on an "AS IS" basis,
# WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
# for the specific language governing rights and limitations under the
# License.
#
# The Original Code is Thunderbird Credits.
#
# The Initial Developer of the Original Code is Ben Goodger.
# Portions created by the Initial Developer are Copyright (C) 2004
# the Initial Developer. All Rights Reserved.
#
# Contributor(s):
#   Ben Goodger <ben@mozilla.org>
#   David Baron <dbaron@mozilla.org>
#   Florian Quèze <florian@instantbird.org>
#
# Alternatively, the contents of this file may be used under the terms of
# either the GNU General Public License Version 2 or later (the "GPL"), or
# the GNU Lesser General Public License Version 2.1 or later (the "LGPL"),
# in which case the provisions of the GPL or the LGPL are applicable instead
# of those above. If you wish to allow use of your version of this file only
# under the terms of either the GPL or the LGPL, and not to allow others to
# use your version of this file under the terms of the MPL, indicate your
# decision by deleting the provisions above and replace them with the notice
# and other provisions required by the GPL or the LGPL. If you do not delete
# the provisions above, a recipient may use your version of this file under
# the terms of any one of the MPL, the GPL or the LGPL.
#
# ***** END LICENSE BLOCK *****
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
                      "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"
  [
    <!ENTITY % brandDTD SYSTEM "chrome://branding/locale/brand.dtd">
    %brandDTD;
    <!ENTITY % creditsDTD SYSTEM "chrome://instantbird/locale/credits.dtd">
    %creditsDTD;
  ]
>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>&credit.title;</title>

    <style>
      html {
        background-color: white;
        color: black;
      }

      * {
        cursor: default;
        -moz-user-select: none;
      }

      #titleBox {
        position: fixed;
        left: 0px;
        top: 0px;
        right: 0px;
        bottom: auto;
        z-index: 999;
      }

      #footerBox {
        position: fixed;
        left: 0px;
        top: auto;
        right: 0px;
        bottom: 0px;
        z-index: 999;
      }

      #creditsBox {
        position: absolute;
        left: 0px;
        top: 0px;
        bottom:8px;
        overflow: hidden;
        z-index: 1;
        width: 280px;
        margin-left: 10px;
        margin-right: 10px;
        font-family: Arial, sans-serif;
        font-size: small;
      }

      #creditsBox > .title > .motto {
        margin-bottom: 180px;
      }

      h3 {
        font-weight: bold;
        font-size: small;
        text-align: center;
        margin: 15px 0px 5px 0px;
      }

      .creditsGroup {
        margin-bottom: 1px;
        text-align: center;
      }

      .footnote {
        font-size: x-small;
        text-align: justify;
        padding-bottom: 40px;
      }

      h2.title {
        margin-top: 200px;
        margin-bottom: 100px;
        text-align: center;
      }

      .motto {
        margin-top: 2px;
        font-style: italic;
        font-size: small;
        font-weight: normal;
        padding-left: 2em;
      }

      #gecko {
        margin-top:    90px;
        margin-bottom: 90px;
        font-size: medium;
      }

      a {
        color: blue;
        text-decoration: underline;
      }

      ul {
        margin-top: 0px;
        margin-left: 0px;
        padding-left: 0px;
      }

      li {
        list-style-type: none;
      }

      .center {
        text-align: center;
      }
    </style>

    <script type="application/x-javascript" src="chrome://global/content/globalOverlay.js"></script>
    <script type="application/x-javascript">
    <![CDATA[

      var gCreditsInterval = -1;

      function uninit()
      {
        if (gCreditsInterval > -1)
          clearInterval(gCreditsInterval);
      }

      function init()
      {
        var cb = document.getElementById("creditsBox");
        cb.scrollTop = 0;
        setTimeout(runCredits, 3000);
      }

      function runCredits()
      {
        gCreditsInterval = setInterval("creditsCallback()", 25);
      }

      function creditsCallback()
      {
        var cb = document.getElementById("creditsBox");
        var newtop = cb.scrollTop + 1;
        cb.scrollTop = newtop;
        if (cb.scrollTop != newtop) {
          // we're at the bottom
          clearInterval(gCreditsInterval);
          setTimeout(function() { cb.scrollTop = 0 }, 10000);
        }
      }

      function openLicense()
      {
        var fileLocator =
            Components.classes["@mozilla.org/file/directory_service;1"].
            getService(Components.interfaces.nsIProperties);
        var appDir = fileLocator.get("XCurProcD", Components.interfaces.nsIFile);
        appDir.append("license.html");
        var protocolSvc =
            Components.classes["@mozilla.org/uriloader/external-protocol-service;1"].
            getService(Components.interfaces.nsIExternalProtocolService);
        var ioService = Components.classes["@mozilla.org/network/io-service;1"].
                        getService(Components.interfaces.nsIIOService);
        var uri = ioService.newFileURI(appDir);
        protocolSvc.loadUrl(uri);
      }

    ]]>
    </script>
  </head>
  <body onload="init();" onunload="uninit();">
    <div id="titleBox">
      <img src="chrome://branding/content/about-credits.png" />
    </div>

    <div id="creditsBox">
        <h2 class="title">&brandFullName;
          <div class="motto">&brandMotto;</div>
        </h2>

        <div class="creditsGroup">
          <h3>&credit.lead;</h3>
          <div class="credit">Florian Quèze</div>
        </div>

        <div class="creditsGroup">
          <h3>&credit.contributors;</h3>
          <div class="credit">Alexandre Abraham</div>
          <div class="credit">Benedikt Pfeifer</div>
          <div class="credit">Romain Bezut</div>
          <div class="credit">Quentin Castier</div>
          <div class="credit">Quentin Raynaud</div>
        </div>

        <div class="creditsGroup">
          <h3>&credit.thanks;</h3>
          <div class="credit">
          <ul>
            <li>Mozilla developers</li>
            <li>The Pidgin team</li>
            <li>Cré'Innov</li>
          </ul>
          </div>

          &credit.translation;

        </div>

        <p id="gecko" class="center">&credit.poweredByGecko;</p>

        <p class="footnote">
          &brandFullName; &license.part0; &copy;2007-2010 &license.part1;
          <a href="" link="http://www.instantbird.com/thanks.html" onclick="visitLink(event); event.preventDefault();">&license.contrib;</a>,
          &license.part2;
          <a href="" onclick="openLicense(); event.preventDefault();">&credit.license;</a>
          &license.part3;</p>

    </div>

    <div id="footerBox">
      <img src="chrome://branding/content/about-footer.png"/>
    </div>
  </body>
</html>

